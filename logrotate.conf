# Logrotate configuration for Lumiera WhatsApp API
# Install: sudo cp logrotate.conf /etc/logrotate.d/lumiera-whatsapp

/home/ceeai/whatsapp_api/logs/server.log /home/ceeai/whatsapp_api/logs/server.error.log {
    # Rotate when file reaches 50MB
    size 50M

    # Keep 7 rotated logs (1 week if rotating daily)
    rotate 7

    # Compress old logs to save space
    compress
    delaycompress

    # Don't error if log file doesn't exist
    missingok

    # Don't rotate if empty
    notifempty

    # Create new log files with these permissions
    create 0644 root root

    # Reload service after rotation (optional)
    # postrotate
    #     systemctl reload lumiera-whatsapp.service > /dev/null 2>&1 || true
    # endscript
}
